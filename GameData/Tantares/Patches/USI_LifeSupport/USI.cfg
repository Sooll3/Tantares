// USI by GJDude

// V-SA7 Crewed Block for Salyut
@PART[Vega_Habitation_1]:NEEDS[USILifeSupport]:AFTER[USILifeSupport]
{
    MODULE
    {
        name = ModuleLifeSupport
    }
 
    MODULE
    {
        name = USILS_HabitationSwapOption
        CrewCapacity = #$../CrewCapacity$
        BaseKerbalMonths = 12
 
        BaseHabMultiplier = 0
        ConverterName = #LOC_Tantares_ConverterName // #LOC_Tantares_ConverterName = Habitat
        StartActionName = #LOC_Tantares_StartActionName // #LOC_Tantares_StartActionName = Start Habitat
        StopActionName = #LOC_Tantares_StopActionName // #LOC_Tantares_StopActionName = Stop Habitat
 
        INPUT_RESOURCE
        {
            ResourceName = ElectricCharge
            Ratio = 0.05
            @Ratio *= #$../CrewCapacity$
        }
    }
 
    MODULE
    {
        name = USI_ModuleFieldRepair
    }
}
 
//T-OM1 Orbital Module for Soyuz
@PART[Tantares_Orbital_1]:NEEDS[USILifeSupport]:AFTER[USILifeSupport]
{
    MODULE
    {
        name = ModuleLifeSupport
    }
    RESOURCE
    {
        name = Supplies
        amount = 230
        maxAmount = 230
    }
 
    RESOURCE
    {
        name = Mulch
        amount = 0
        maxAmount = 10
    }
}
 
// L-K15 'Луна' Lander Can
@PART[Tantares_Libra_Crew_1]:NEEDS[USILifeSupport]:AFTER[USILifeSupport]
{
    MODULE
    {
        name = ModuleLifeSupport
    }
    RESOURCE
    {
        name = Supplies
        amount = 75
        maxAmount = 75
    }
 
    RESOURCE
    {
        name = Mulch
        amount = 0
        maxAmount = 10
    }
}
 
//T-SZ1B Habitation Section and T-SZ1 Habitation Section for Soyuz A
@PART[Tantares_Habitation_2|Tantares_Orbital_2]:NEEDS[USILifeSupport]:AFTER[USILifeSupport]
{
    MODULE
    {
        name = ModuleLifeSupport
    }
 
    MODULE
    {
        name = USILS_HabitationSwapOption
        CrewCapacity = #$../CrewCapacity$
        BaseKerbalMonths = 0.5
 
        BaseHabMultiplier = 0
        ConverterName = #LOC_Tantares_ConverterName // #LOC_Tantares_ConverterName = Habitat
        StartActionName = #LOC_Tantares_StartActionName // #LOC_Tantares_StartActionName = Start Habitat
        StopActionName = #LOC_Tantares_StopActionName // #LOC_Tantares_StopActionName = Stop Habitat
 
        INPUT_RESOURCE
        {
            ResourceName = ElectricCharge
            Ratio = 0.05
            @Ratio *= #$../CrewCapacity$
        }
    }
 
    MODULE
    {
        name = USI_ModuleFieldRepair
    }
 
    RESOURCE
    {
        name = Supplies
        amount = 750
        maxAmount = 750
    }
 
    RESOURCE
    {
        name = Mulch
        amount = 0
        maxAmount = 30
    }
}
 
//T-OM1B Orbital Module for Soyuz
@PART[Tantares_Habitation_1]:NEEDS[USILifeSupport]:AFTER[USILifeSupport]
{
    MODULE
    {
        name = ModuleLifeSupport
    }
    RESOURCE
    {
        name = Supplies
        amount = 375
        maxAmount = 375
    }
 
    RESOURCE
    {
        name = Mulch
        amount = 0
        maxAmount = 10
    }
}
 
// H-FS1 Forward Section for Progress resupply craft
@PART[Hamal_Habitation_1]:NEEDS[USILifeSupport]:AFTER[USILifeSupport]
{
    MODULE
    {
        name = ModuleLifeSupport
    }
    RESOURCE
    {
        name = Supplies
        amount = 1500
        maxAmount = 1500
    }
 
    RESOURCE
    {
        name = Mulch
        amount = 0
        maxAmount = 10
    }
}
 
//E-27KB Crew Module
@PART[Eridani_Crew_2]:NEEDS[USILifeSupport]:AFTER[USILifeSupport]
{
    MODULE
    {
        name = ModuleLifeSupport
    }
 
    MODULE
    {
        name = USILS_HabitationSwapOption
        CrewCapacity = #$../CrewCapacity$
        BaseKerbalMonths = 12
 
        BaseHabMultiplier = 0
        ConverterName = #LOC_Tantares_ConverterName // #LOC_Tantares_ConverterName = Habitat
        StartActionName = #LOC_Tantares_StartActionName // #LOC_Tantares_StartActionName = Start Habitat
        StopActionName = #LOC_Tantares_StopActionName // #LOC_Tantares_StopActionName = Stop Habitat
 
        INPUT_RESOURCE
        {
            ResourceName = ElectricCharge
            Ratio = 0.05
            @Ratio *= #$../CrewCapacity$
        }
    }
 
    MODULE
    {
        name = USI_ModuleFieldRepair
    }
 
    RESOURCE
    {
        name = Supplies
        amount = 1500
        maxAmount = 1500
    }
 
    RESOURCE
    {
        name = Mulch
        amount = 0
        maxAmount = 30
    }
}
 
//E-27KA Crew Module
@PART[Eridani_Crew_1]:NEEDS[USILifeSupport]:AFTER[USILifeSupport]
{
    MODULE
    {
        name = ModuleLifeSupport
    }
 
    MODULE
    {
        name = USILS_HabitationSwapOption
        CrewCapacity = #$../CrewCapacity$
        BaseKerbalMonths = 12
 
        BaseHabMultiplier = 0
        ConverterName = #LOC_Tantares_ConverterName // #LOC_Tantares_ConverterName = Habitat
        StartActionName = #LOC_Tantares_StartActionName // #LOC_Tantares_StartActionName = Start Habitat
        StopActionName = #LOC_Tantares_StopActionName // #LOC_Tantares_StopActionName = Stop Habitat
 
        INPUT_RESOURCE
        {
            ResourceName = ElectricCharge
            Ratio = 0.05
            @Ratio *= #$../CrewCapacity$
        }
    }
 
    MODULE
    {
        name = USI_ModuleFieldRepair
    }
}
 
//A-H12 Crewed Block
 
@PART[Alniyat_Habitation_1|Alniyat_Habitation_2_1|Alniyat_Habitation_2_2|Alniyat_Crew_1|Alniyat_Crew_3_1|Alniyat_Crew_3_2|Alniyat_Crew_4]:NEEDS[USILifeSupport]:AFTER[USILifeSupport]
{
    MODULE
    {
        name = ModuleLifeSupport
    }
 
    MODULE
    {
        name = USILS_HabitationSwapOption
        CrewCapacity = #$../CrewCapacity$
        BaseKerbalMonths = 6
        @BaseKerbalMonths *= #$CrewCapacity$
 
        BaseHabMultiplier = 0
        ConverterName = #LOC_Tantares_ConverterName // #LOC_Tantares_ConverterName = Habitat
        StartActionName = #LOC_Tantares_StartActionName // #LOC_Tantares_StartActionName = Start Habitat
        StopActionName = #LOC_Tantares_StopActionName // #LOC_Tantares_StopActionName = Stop Habitat
 
        INPUT_RESOURCE
        {
            ResourceName = ElectricCharge
            Ratio = 0.05
            @Ratio *= #$../CrewCapacity$
        }
    }
 
    MODULE
    {
        name = USI_ModuleFieldRepair
    }
}
 
//A-B12 Crewed Block
//Reccomend for TKS resupply vehicle and MIR Zarya, contains more supplies than A-B10 block
 
@PART[Alniyat_Crew_2_2]:NEEDS[USILifeSupport]:AFTER[USILifeSupport]
{
    MODULE
    {
        name = ModuleLifeSupport
    }
 
    MODULE
    {
        name = USILS_HabitationSwapOption
        CrewCapacity = #$../CrewCapacity$
        BaseKerbalMonths = 12
 
        BaseHabMultiplier = 0
        ConverterName = #LOC_Tantares_ConverterName // #LOC_Tantares_ConverterName = Habitat
        StartActionName = #LOC_Tantares_StartActionName // #LOC_Tantares_StartActionName = Start Habitat
        StopActionName = #LOC_Tantares_StopActionName // #LOC_Tantares_StopActionName = Stop Habitat
 
        INPUT_RESOURCE
        {
            ResourceName = ElectricCharge
            Ratio = 0.05
            @Ratio *= #$../CrewCapacity$
        }
    }
 
    MODULE
    {
        name = USI_ModuleFieldRepair
    }
 
    RESOURCE
    {
        name = Supplies
        amount = 3000
        maxAmount = 3000
    }
 
    RESOURCE
    {
        name = Mulch
        amount = 0
        maxAmount = 30
    }
}
 
//A-B10 Crewed Block
//Reccomend for MIR Kristall, Kvant II, Priroda, Spektre
 
@PART[Alniyat_Crew_2_1]:NEEDS[USILifeSupport]:AFTER[USILifeSupport]
{
    MODULE
    {
        name = ModuleLifeSupport
    }
 
    MODULE
    {
        name = USILS_HabitationSwapOption
        CrewCapacity = #$../CrewCapacity$
        BaseKerbalMonths = 12
 
        BaseHabMultiplier = 0
        ConverterName = #LOC_Tantares_ConverterName // #LOC_Tantares_ConverterName = Habitat
        StartActionName = #LOC_Tantares_StartActionName // #LOC_Tantares_StartActionName = Start Habitat
        StopActionName = #LOC_Tantares_StopActionName // #LOC_Tantares_StopActionName = Stop Habitat
 
        INPUT_RESOURCE
        {
            ResourceName = ElectricCharge
            Ratio = 0.05
            @Ratio *= #$../CrewCapacity$
        }
    }
 
    MODULE
    {
        name = USI_ModuleFieldRepair
    }
 
    RESOURCE
    {
        name = Supplies
        amount = 1500
        maxAmount = 1500
    }
 
    RESOURCE
    {
        name = Mulch
        amount = 0
        maxAmount = 30
    }
}
 
// A-SM2 Research Module
// Adds life support recycling and some extra EC for convenient command of dark side transit
 
@PART[Acamar_Lab_2]:NEEDS[USILifeSupport]:AFTER[USILifeSupport]
{
    MODULE
    {
        name = ModuleLifeSupport
    }
 
    MODULE
    {
        name = USILS_HabitationSwapOption
        CrewCapacity = #$../CrewCapacity$
        BaseKerbalMonths = 4
 
        BaseHabMultiplier = 0
        ConverterName = #LOC_Tantares_ConverterName // #LOC_Tantares_ConverterName = Habitat
        StartActionName = #LOC_Tantares_StartActionName // #LOC_Tantares_StartActionName = Start Habitat
        StopActionName = #LOC_Tantares_StopActionName // #LOC_Tantares_StopActionName = Stop Habitat
 
        INPUT_RESOURCE
        {
            ResourceName = ElectricCharge
            Ratio = 0.05
            @Ratio *= #$../CrewCapacity$
        }
    }
 
    MODULE
    {
        name = USI_ModuleFieldRepair
    }
 
    // extra EC for convenient command of station during dark side transit
    @RESOURCE[ElectricCharge]
    {
      @amount += 4000
      @maxAmount += 4000
    }
 
    MODULE
    {
        name = USILS_LifeSupportRecyclerSwapOption
        CrewCapacity = 4
        RecyclePercent = .80
        ConverterName = #LOC_Tantares_ConverterName1 // #LOC_Tantares_ConverterName1 = Life Support
        tag = #LOC_Tantares_tag // #LOC_Tantares_tag = Life Support
        StartActionName = #LOC_Tantares_StartActionName1 // #LOC_Tantares_StartActionName1 = Start Life Support
        StopActionName = #LOC_Tantares_StopActionName1 // #LOC_Tantares_StopActionName1 = Stop Life Support
 
        INPUT_RESOURCE
        {
            ResourceName = ElectricCharge
            Ratio = 3.8
        }
    }
 
}
 
// A-SM1 Research Module
// Adds life support recycling and some extra EC for convenient command of dark side transit
 
@PART[Acamar_Lab_1]:NEEDS[USILifeSupport]:AFTER[USILifeSupport]
{
    MODULE
    {
        name = ModuleLifeSupport
    }
 
    MODULE
    {
        name = USILS_HabitationSwapOption
        CrewCapacity = #$../CrewCapacity$
        BaseKerbalMonths = 4
 
        BaseHabMultiplier = 0
        ConverterName = #LOC_Tantares_ConverterName // #LOC_Tantares_ConverterName = Habitat
        StartActionName = #LOC_Tantares_StartActionName // #LOC_Tantares_StartActionName = Start Habitat
        StopActionName = #LOC_Tantares_StopActionName // #LOC_Tantares_StopActionName = Stop Habitat
 
        INPUT_RESOURCE
        {
            ResourceName = ElectricCharge
            Ratio = 0.05
            @Ratio *= #$../CrewCapacity$
        }
    }
 
    MODULE
    {
        name = USI_ModuleFieldRepair
    }
 
    // extra EC for convenient command of station during dark side transit
    @RESOURCE[ElectricCharge]
    {
      @amount += 8000
      @maxAmount += 8000
    }
 
    MODULE
    {
        name = USILS_LifeSupportRecyclerSwapOption
        CrewCapacity = 6
        RecyclePercent = .80
        ConverterName = #LOC_Tantares_ConverterName1 // #LOC_Tantares_ConverterName1 = Life Support
        tag = #LOC_Tantares_tag // #LOC_Tantares_tag = Life Support
        StartActionName = #LOC_Tantares_StartActionName1 // #LOC_Tantares_StartActionName1 = Start Life Support
        StopActionName = #LOC_Tantares_StopActionName1 // #LOC_Tantares_StopActionName1 = Stop Life Support
 
        INPUT_RESOURCE
        {
            ResourceName = ElectricCharge
            Ratio = 4.7
        }
    }
 
}
